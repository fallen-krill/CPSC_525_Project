import sys
from PySide6.QtWidgets import (
    QApplication, QWidget
)
from PySide6.QtCore import (
    QTimer
)
from PySide6.QtGui import (
    QColor
)

win = None

class Window(QWidget):

    def __init__(self):
        super().__init__()
        self.setWindowTitle("I'm not supposed to be here")
        self.setMinimumSize(800,600)
        
        self.hue = 0
        self.hue_step = 4
        self.saturation = 255
        self.value = 255

        self.bg_color = QColor()
        self.switch_color()

        self.interval = 15 #15 ms interval

        self.timer = QTimer()
        self.timer.timeout.connect(self.switch_color)
        self.timer.start(self.interval)

        self.apply_color

    def switch_color(self):
        self.hue += self.hue_step
        self.hue %= 360
        self.bg_color = QColor.fromHsv(self.hue, self.saturation, self.value)
        self.apply_color()

    def apply_color(self):
        r, g, b = self.bg_color.red(), self.bg_color.green(), self.bg_color.blue()
        self.setStyleSheet(f"background-color: rgb({r},{g},{b});")

def openWindow():
    global win
    win = Window()
    win.show()

if __name__ == "__main__":
    app = QApplication(sys.argv)
    openWindow()
    sys.exit(app.exec())